<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Enterprise Analytics Report | Cloud Bank</title>

<style>
body{
    margin:0;
    font-family: "Segoe UI", Arial, sans-serif;
    background: #f4f7fb;
}

.header{
    background:#0a2a66;
    color:white;
    padding:20px 40px;
}
.header h1{ margin:0; font-size:26px; }
.header p{ margin:5px 0 0; font-size:14px; opacity:.85; }

.container{ padding:40px; }

.cards{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
    gap:20px;
}

.card{
    background:white;
    padding:20px;
    border-radius:14px;
    box-shadow:0 10px 25px rgba(0,0,0,.08);
}

.card h3{
    margin:0;
    font-size:14px;
    color:#555;
}
.card h2{
    margin:10px 0 0;
    font-size:24px;
    color:#0a2a66;
}

.section{
    margin-top:40px;
    background:white;
    padding:25px;
    border-radius:14px;
    box-shadow:0 10px 25px rgba(0,0,0,.08);
}

table{
    width:100%;
    border-collapse:collapse;
    margin-top:20px;
}
th{
    background:#eef2ff;
    padding:12px;
    font-size:13px;
}
td{
    padding:12px;
    border-bottom:1px solid #eee;
    font-size:13px;
}
tr:hover{ background:#f9fbff; }

.btn{
    display:inline-block;
    margin-top:20px;
    padding:10px 20px;
    background:#134db8;
    color:white;
    border-radius:25px;
    text-decoration:none;
}

.footer{
    margin-top:40px;
    text-align:center;
    font-size:13px;
    color:#666;
}
</style>
</head>

<body>

<div class="header">
    <h1>Cloud Bank Enterprise Analytics Report</h1>
    <p>Generated on {{ report.generated_on }}</p>
</div>

<div class="container">

    <!-- ðŸ”¥ KPI CARDS -->
    <div class="cards">
        <div class="card">
            <h3>Total Customers</h3>
            <h2>{{ report.total_users }}</h2>
        </div>

        <div class="card">
            <h3>Total Deposits</h3>
            <h2>â‚¹ {{ report.total_deposits }}</h2>
        </div>

        <div class="card">
            <h3>Total Withdrawals</h3>
            <h2>â‚¹ {{ report.total_withdrawals }}</h2>
        </div>

        <div class="card">
            <h3>Total Transfers</h3>
            <h2>â‚¹ {{ report.total_transfers }}</h2>
        </div>

        <div class="card">
            <h3>Transaction Volume</h3>
            <h2>{{ report.transaction_volume }}</h2>
        </div>

        <div class="card">
            <h3>Average Transaction Value</h3>
            <h2>â‚¹ {{ report.avg_transaction_value }}</h2>
        </div>

        <div class="card">
            <h3>Deposit Growth %</h3>
            <h2>{{ report.deposit_growth }}%</h2>
        </div>

        <div class="card">
            <h3>New Customers</h3>
            <h2>{{ report.new_customers }}</h2>
        </div>

        <div class="card">
            <h3>Active Customers</h3>
            <h2>{{ report.active_customers }}</h2>
        </div>
    </div>

    <!-- ðŸ”¥ TRANSACTION TABLE -->
    <div class="section">
        <h2>Transaction Details</h2>

        <table>
            <tr>
                <th>Email</th>
                <th>Type</th>
                <th>Amount</th>
                <th>Date & Time</th>
            </tr>

            {% for t in report.transactions %}
            <tr>
                <td>{{ t.email }}</td>
                <td>{{ t.type }}</td>
                <td>â‚¹ {{ t.amount }}</td>
                <td>{{ t.time }}</td>
            </tr>
            {% endfor %}
        </table>

        <a href="/dashboard" class="btn">â¬… Back to Dashboard</a>
    </div>

</div>

<div class="footer">
    Â© 2026 Cloud Bank Â· Enterprise Financial Intelligence Platform
</div>

</body>
</html>
